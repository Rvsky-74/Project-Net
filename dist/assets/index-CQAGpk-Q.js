import{initializeApp as ae}from"https://www.gstatic.com/firebasejs/11.3.1/firebase-app.js";import{getAuth as ie,onAuthStateChanged as re,signOut as le,GoogleAuthProvider as ce,signInWithPopup as de}from"https://www.gstatic.com/firebasejs/11.3.1/firebase-auth.js";import{getFirestore as ue,doc as q,getDoc as U,setDoc as z,collection as me,getDocs as fe,deleteDoc as A,updateDoc as pe}from"https://www.gstatic.com/firebasejs/11.3.1/firebase-firestore.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();const a={nodes:[],arrows:[],link_mode_on:!1,simulating:!1,isMouseDown:!1,dragged:!1,start_coords:[0,0],end_coords:[0,0],box_opened:!1,current_save_file:""},ve={apiKey:"AIzaSyC_QBQdq1WeLVaIQH_084N__VQISVz5rbk",authDomain:"task-manager-82b19.firebaseapp.com",projectId:"task-manager-82b19",storageBucket:"task-manager-82b19.firebasestorage.app",messagingSenderId:"114619358141",appId:"1:114619358141:web:d24dfd48a7be49018010d4"},G=ae(ve),k=ie(G),C=ue(G);async function he(){const e=new ce;try{const t=(await de(k,e)).user;console.log("Google Sign-In Success:",t.displayName)}catch(o){console.error("Google Sign-In Error:",o)}}async function ge(){try{await le(k),console.log("User logged out")}catch(e){console.error("Logout Error:",e)}}function ye(){document.getElementById("log"),k.currentUser?ge():he()}async function H(e,o){const t=k.currentUser,s=[];a.nodes.forEach(r=>{const l=(r.connections||[]).map(c=>c.name);s.push({name:r.name,x:r.getBoundingClientRect().left,y:r.getBoundingClientRect().top,state:r.state,connections:l})});const n=q(C,"users",t.uid,"saves",String(e));await z(n,{name:o,node_info:s},{merge:!0});const u=document.getElementById("Canvas_Text");u.innerText="Data Saved"}async function xe(){const e=k.currentUser;if(!e){print("saveUserData was called incorrectly");return}const o=q(C,"users",e.uid),t={firstName:e.displayName||"Unknown",email:e.email,lastLogin:new Date().toISOString()};await z(o,t,{merge:!0})}re(k,e=>{const o=document.getElementById("log");if(e){console.log("User is logged in:",e),o.innerText="Logout";const t=e.photoURL,s=document.getElementById("profile-pic");s.src=t,s.onerror=function(){s.src="no-user.png"},xe()}else{console.log("No user is logged in"),o.innerText="Login";const t=document.getElementById("profile-pic");t.src="no-user.png",O()}Q(1)});async function Q(e){const o=k.currentUser,t=document.getElementById("Canvas_Text");try{const s=q(C,"users",o.uid,"saves",String(e)),n=await U(s);if(n.exists()){const u=n.data().node_info||[];O(),u.forEach(r=>{te(r.x,r.y,r.name,r.state)}),u.forEach(r=>{const d=a.nodes.find(l=>l.name===r.name);r.connections.forEach(l=>{const c=a.nodes.find(h=>h.name===l);F(d,c),d.connections.push(c)})}),a.nodes.forEach(r=>P(r,r.state,r.state)),t.innerText=a.current_save_file}else t.innerText="No saved data found"}catch(s){console.error("Error loading user data:",s),t.innerText="Error loading data"}}async function _e(){const e=k.currentUser;if(!e){print("Please login before saving/loading data");return}const o=me(C,"users",e.uid,"saves");return(await fe(o)).docs.map(n=>[n.id,n.data().name])}async function V(e,o){const t=k.currentUser,s=q(C,"users",t.uid,"saves",String(e));if(!(await U(s)).exists()){print("Something went wrong, this file number doesnt exist");return}if(o.length==0){await A(s);let i=parseInt(e,10)+1;for(;;){const u=q(C,"users",t.uid,"saves",String(i)),r=await U(u);if(r.exists()){const d=q(C,"users",t.uid,"saves",String(i-1));await z(d,r.data()),await A(u)}else return;i+=1}}else await pe(s,{name:o})}window.login=ye;const _=document.getElementById("circleCanvas");_.width=window.innerWidth;_.height=window.innerHeight;const w=document.getElementById("canvas-container");let E,S=[_.width/2,_.height/2];function be(e){const o=parseInt(window.getComputedStyle(e).getPropertyValue("width").slice(0,2));e.addEventListener("mouseenter",function(t){a.nodes.forEach(s=>{s.style.setProperty("--alpha",.3)}),e.style.setProperty("--alpha",1),e.style.setProperty("--diameter",1.2*o+"px"),a.arrows.forEach(s=>{s.parent!==e&&s.style.setProperty("--alpha",.3)})}),e.addEventListener("mouseleave",function(t){a.nodes.forEach(s=>{s.style.setProperty("--alpha",1),s.style.setProperty("--diameter",o+"px")}),a.arrows.forEach(s=>{s.style.setProperty("--alpha",1)})})}function Ee(e){e.addEventListener("click",function(o){if(o.stopPropagation(),a.link_mode_on){if(E!=e&&!E.connections.includes(e)&&!e.connections.includes(E)){if(J(E,e)){L("That would make a loop impossible to complete");return}E.connections.push(e),F(E,e),P(e,e.state,e.state);return}if(E.connections.includes(e)){a.arrows.forEach(n=>{n.parent==E&&n.child==e&&n.remove()});let s=E.connections.indexOf(e);E.connections.splice(s,1),P(e,e.state,e.state),P(E,E.state,E.state);return}}!a.box_opened&&!a.link_mode_on&&ke(e)})}function F(e,o){const t=document.createElement("div");t.classList.add("arrow",o.state),w.appendChild(t),m("div",t,null,["tip"]);const s=document.createElement("div");s.className="line",t.appendChild(s),t.parent=e,t.child=o,K(t),a.arrows.push(t)}function j(e=0,o=0){a.arrows.forEach(t=>{K(t,e,o)})}function K(e,o=0,t=0){const s=e.querySelector(".tip"),n=e.querySelector(".line"),i={x:e.child.x,y:e.child.y},u={x:e.parent.x,y:e.parent.y},r=i.x-u.x,d=i.y-u.y;let l=Math.atan2(d,r);l<0&&(l+=2*Math.PI);let c=Math.sqrt(r*r+d*d);const h=10.5,g=3,p=i.x+h-(h+3*g)*Math.cos(l),x=i.y+h-(h+3*g)*Math.sin(l);s.style.transform=`translate(-50%,-50%) translate(${p+o}px,${x+t}px) rotate(${l+Math.PI/4}rad)`,n.style.width=c-2*h-4*g+"px";const y=u.x+h+(h+g)*Math.cos(l),v=u.y+h+(h+g)*Math.sin(l),b=.5,f=b*Math.sin(l),D=-b*Math.cos(l);n.style.transform=`translate(${y+f+o}px,${v+D+t}px) rotate(${l}rad)`}function P(e,o,t){e.state=t,e.connections.length==0&&t!="Completed"&&e.classList.replace("undoable","doable"),a.arrows.forEach(s=>{s.child===e&&(s.classList.replace(o,t),s.parent.connections.filter(n=>n.state==="Uncompleted"||n.state==="Default").length==0?s.parent.state!="Completed"&&s.parent.classList.replace("undoable","doable"):s.parent.classList.replace("doable","undoable"))}),e.state=="Completed"&&e.classList.replace("doable","undoable"),R(e)}function X(e){const o=[];return a.arrows.forEach(t=>{t.child===e&&o.push(t.parent)}),o}function R(e,o=new Set){o.add(e);const t=X(e).filter(s=>s.state==="Completed"||s.classList.contains("complete-mask")).length!=0;t?e.classList.add("complete-mask"):e.classList.remove("complete-mask"),a.arrows.forEach(s=>{if(s.child==e){let n=s.querySelector(".line"),i=s.querySelector(".tip");t?(n.classList.add("line-mask"),i.classList.add("tip-mask")):(n.classList.remove("line-mask"),i.classList.remove("tip-mask"))}}),e.connections.forEach(s=>{o.has(s)||R(s,o)})}let N="";function we(e,o,t,s,n){let i;const u=document.createElement("div");u.className="bar",e.appendChild(u);const r=document.createElement("div");r.className="bar",r.style.transform="rotate(90deg)",e.appendChild(r),[e,o,t,s,n].forEach(l=>{l.addEventListener("mouseenter",()=>{i=setTimeout(()=>{const c=document.createElement("div");c.className="tooltip";const h={addbutton:"New Task",savebutton:"Save Current Project",loadbutton:"Load Saved Project",deletebutton:"Clear Canvas",infobutton:"Instructions / Help"};c.textContent=h[l.id],c.style.position="absolute",c.style.right="110%",c.style.top="50%",c.style.transform="translateY(-50%)",c.style.padding="5px 10px",c.style.background="black",c.style.color="white",c.style.borderRadius="5px",c.style.fontSize="12px",c.style.whiteSpace="nowrap",l.appendChild(c)},500)}),l.addEventListener("mouseleave",()=>{clearTimeout(i);const c=l.querySelector(".tooltip");c&&c.remove()})}),e.addEventListener("click",()=>{if(document.querySelector(".input-box")!=null)return;let c=document.createElement("input");c.className="input-box",c.type="text",c.placeholder="Enter task name...",w.appendChild(c),c.focus(),c.addEventListener("keydown",h=>{if(h.key==="Enter"&&c.value.trim()!=""){if(N=c.value.trim(),c.remove(),!se(N)){let v=function(b){g.style.setProperty("--diameter",y+"px"),g.removeEventListener("transitionend",v)};L("Task already in the project");const g=a.nodes.find(b=>b.name===N),p=_.width/2-g.x,x=_.height/2-g.y;Ce(p,x);const y=parseInt(window.getComputedStyle(g).getPropertyValue("--diameter").slice(0,-2),10);g.style.setProperty("--diameter",y*1.3+"px"),g.addEventListener("transitionend",v);return}te(null,null,N)}h.key=="Escape"&&c.remove()})}),o.addEventListener("click",()=>{O()}),t.addEventListener("click",()=>{$("save")}),s.addEventListener("click",()=>{$("load")}),n.addEventListener("click",()=>{document.querySelector(".help").style.display="block"})}async function $(e){const o=await _e();if(!o)return;e=="save"?L("Choose where to save the current project"):L("Choose a file to load from");const t=document.querySelector(".save-files-menu");t&&t.remove();const s=m("div",w,null,["save-files-menu"]);if(o.forEach(n=>{const i=n[0],u=n[1],r=m("button",s,null,["save-file"]),d=m("div",r,null,["save-number"]),l=m("div",r,null,["file-name"]);d.textContent=i,l.textContent=u;const c=m("button",r,null,["edit-save-file"]);c.style.maskImage="url(pencil.svg)";let h=!1;c.addEventListener("click",async g=>{if(g.stopPropagation(),h)await V(i,""),s.remove(),$(e);else{h=!0,c.style.maskImage="url(trash.svg)";const p=document.createElement("input");p.type="text",p.value=l.textContent,p.className="file-name",r.replaceChild(p,l),p.focus(),p.addEventListener("keydown",x=>{if(x.key==="Enter"&&p.value.trim()!==""){const y=p.value.trim();l.textContent=y,h=!1,c.style.maskImage="url(pencil.svg)",V(i,y),a.current_save_file=y,L(y),r.replaceChild(l,p)}x.key==="Escape"&&(h=!1,c.style.maskImage="url(pencil.svg)",p.remove())})}}),r.addEventListener("click",function(g){s.remove();const p=m("div",w,null,["confirmation-box"]),x=m("p",p,null,["confirmation-text"]);x.textContent=e=="save"?`Do you want to overwritte
"`+u+'"':"Are you sure? The current net will not be saved automatically";const y=m("div",p,null,["confirmation-text"]),v=m("div",y,null,["option"]);v.textContent="Yes";const b=m("div",y,null,["option"]);b.textContent="No",v.addEventListener("click",function(f){p.remove(),e==="save"?H(i,u):(a.current_save_file=u,Q(i),S=[_.width/2,_.height/2])}),b.addEventListener("click",function(f){p.remove()})})}),e=="save"){const n=m("button",s,null,["save-file"]),i=m("div",n,null,["save-number"]),u=m("div",n,null,["file-name"]);i.textContent=o.length+1,u.textContent="New Save File",n.addEventListener("click",()=>{s.remove(),m("input",w,null,["input-box"]);const r=m("input",w,null,["input-box"]);r.type="text",r.placeholder="Enter task name...",r.focus(),r.addEventListener("keydown",d=>{d.key==="Enter"&&r.value.trim()!=""&&(H(o.length+1,r.value.trim()),r.remove()),d.key=="Escape"&&r.remove()})})}if(e=="load"&&o.length==0){const n=m("button",s,null,["save-file","no-hover"]),i=m("div",n,null,["file-name"]);i.textContent="No save files yet"}}function ke(e){a.simulating&&M(),a.box_opened=!0;const[o,t]=[e.x,e.y],s=m("div",w,"box",["box",e.state]);s.style.left=`${o}px`,s.style.top=`${t}px`;const n=m("div",w,"sub-box",["sub-box",e.state]);n.style.left=`${o}px`,n.style.top=`${t}px`,new MutationObserver(y=>{for(const v of y)for(const b of v.removedNodes)b===s&&n.remove()}).observe(w,{childList:!0});const u=m("button",n,null,["button"]),r=m("div",u,null,["icon"]);r.style.maskImage="url(cross.svg)",u.addEventListener("click",y=>{const v=X(e),b=[...e.connections];a.arrows.forEach(f=>{(f.child===e||f.parent===e)&&f.remove()}),a.arrows=a.arrows.filter(f=>f.child!==e&&f.parent!==e),a.nodes=a.nodes.filter(f=>f!==e),e.remove(),v.forEach(f=>{const D=f.connections.indexOf(e);f.connections.splice(D,1),f.connections.filter(W=>W.state==="Uncompleted"||W.state==="Default").length==0&&f.state!="Completed"&&f.classList.replace("undoable","doable")}),b.forEach(f=>{R(f)})});const d=m("button",n,null,["button"]),l=m("div",d,null,["icon"]);l.style.maskImage="url(pencil.svg)",d.addEventListener("click",y=>{const v=e.querySelector(".text"),b=v.textContent,f=document.createElement("input");f.type="text",f.value=v.textContent,v.textContent="",f.className="text",v.appendChild(f),f.focus(),f.addEventListener("keydown",function(D){D.key==="Enter"&&(f.value!=""?(v.textContent=f.value,e.name=f.value,f.remove()):L("Please enter a name for the node")),D.key==="Escape"&&(v.textContent=b,f.remove())}),f.addEventListener("blur",function(){f.value!=""&&(v.textContent=f.value,e.name=f.value,f.remove())})});const c=m("div",s,null,["button-text-wrapper"]),h=m("div",c,null,["state-text"]);h.textContent=e.state==="Default"?"Undefined":e.state;const g=m("button",c,null,["rounded-square-btn",e.state]);m("div",g,null,["small-circle"]),g.addEventListener("click",y=>{g.classList.toggle("active");const v=e.state==="Default"||e.state==="Uncompleted"?"Completed":"Uncompleted";s.classList.replace(e.state,v),n.classList.replace(e.state,v),g.classList.replace(e.state,v),e.classList.replace(e.state,v),h.textContent=v,P(e,e.state,v)});const p=m("div",s),x=m("button",p,"b1",["link-button"]);x.textContent="Make Connections",x.addEventListener("click",y=>{a.link_mode_on=!0,E=e,I(),s.remove(),a.box_opened=!1,_.classList.replace("canvas-default","canvas-alt"),L("Select pre-requisites for this task")})}function Le(){_.classList.replace("canvas-alt","canvas-default"),document.getElementById("Canvas_Text").innerText="",a.link_mode_on=!1,I(),a.simulating&&M()}function Ce(e,o){a.nodes.forEach(t=>{t.x+=e,t.y+=o,t.style.left=t.x+"px",t.style.top=t.y+"px",t.style.transform="translate(-50%, -50%)"}),S[0]+=e,S[1]+=o,j()}function J(e,o,t=new Set){if(e===o)return!0;t.add(o);for(let s of o.connections)if(!t.has(s)&&J(e,s,t))return!0;return!1}function Z(e){e.forEach(o=>{let s=o.clientHeight;for(o.style.fontSize=s+"px";(o.scrollHeight>o.clientHeight||o.scrollWidth>o.clientWidth)&&(s--,o.style.fontSize=s+"px",!(s<5)););})}const ee=document.querySelectorAll(".file-name");Z(ee);window.addEventListener("resize",()=>Z(ee));function te(e=null,o=null,t=null,s="Default"){for(;!se(t);)t+="+";const n=document.createElement("div");n.classList.add("node",s,"doable"),n.style.left=e!=null?e+"px":Math.random()*_.width+"px",n.style.top=o!=null?o+"px":Math.random()*_.height+"px",n.connections=[],n.name=t,n.movimento=[0,0],n.state=s,n.x=parseInt(n.style.left,10),n.y=parseInt(n.style.top,10),n.simTranslation={x:0,y:0},n.mouseTranslation={x:0,y:0},n.initialTranslation={x:0,y:0},w.appendChild(n),a.nodes.push(n),be(n),Ee(n);const i=document.createElement("div");return i.className="text",i.textContent=t,n.appendChild(i),a.simulating||M(),n}let Y;function M(){a.simulating?(a.simulating=!1,clearInterval(Y)):(a.simulating=!0,Y=setInterval(()=>{e()},10));function e(){for(let d=0;d<a.nodes.length;d++){const l=a.nodes[d];l.movimento=[0,0];for(let c=0;c<a.nodes.length;c++){if(c!=d){const p=a.nodes[c];let x=Math.sqrt((l.x-p.x)**2+(l.y-p.y)**2);x<20&&(x=20);let y=[(p.x-l.x)/x,(p.y-l.y)/x];if(l.connections.includes(p)){const v=x-50;l.movimento[0]+=y[0]*v*.2,l.movimento[1]+=y[1]*v*.2,p.movimento[0]-=y[0]*v*.2,p.movimento[1]-=y[1]*v*.2}else l.movimento[0]-=y[0]*2e5/x**2,l.movimento[1]-=y[1]*2e5/x**2}const h=Math.sqrt(l.x**2+l.y**2),g=[(S[0]-l.x)/h,(S[1]-l.y)/h];l.movimento[0]+=g[0]*30,l.movimento[1]+=g[1]*30}}a.nodes.forEach(d=>{d.x+=d.movimento[0]*.01,d.y+=d.movimento[1]*.01,d.simTranslation.x+=d.movimento[0]*.01,d.simTranslation.y+=d.movimento[1]*.01;const l=d.mouseTranslation.x+d.initialTranslation.x+d.simTranslation.x,c=d.mouseTranslation.y+d.initialTranslation.y+d.simTranslation.y;d.style.transform=`translate(${l}px, ${c}px)`});const u=a.end_coords[0]-a.start_coords[0],r=a.end_coords[1]-a.start_coords[1];j(u,r)}}let ne=0,oe=0;function I(e=0,o=0){const t=_.getContext("2d");t.clearRect(0,0,_.width,_.height);function s(n,i){const r="rgba(0,0,0,0.3)";t.beginPath(),t.moveTo(n-3,i),t.lineTo(n+3,i),t.moveTo(n,i-3),t.lineTo(n,i+3),t.strokeStyle=r,t.lineWidth=1,t.stroke()}if(!a.link_mode_on){let i=e+ne,u=o+oe;for(;i>20/2;)i-=20;for(;i<-20/2;)i+=20;for(;u>20/2;)u-=20;for(;u<-20/2;)u+=20;for(let r=i;r<=_.width+i;r+=20)for(let d=u;d<=_.height+u;d+=20)s(r,d)}}function Se(){const e=a.end_coords[0]-a.start_coords[0],o=a.end_coords[1]-a.start_coords[1];ne+=e,oe+=o,S[0]+=e,S[1]+=o,I(),a.dragged=!1,a.nodes.forEach(t=>{t.x+=e,t.y+=o,t.style.left=t.x+"px",t.style.top=t.y+"px",t.style.transform="translate(0,0)",t.mouseTranslation={x:0,y:0},t.simTranslation={x:0,y:0}})}function Te(e){const o=window.getComputedStyle(e),t=new WebKitCSSMatrix(o.transform);return{x:t.m41,y:t.m42}}function O(){a.nodes.forEach(e=>e.remove()),a.arrows.forEach(e=>e.remove()),a.nodes.length=0}function se(e){return!a.nodes.find(t=>t.name===e)}function L(e){document.getElementById("Canvas_Text").innerText=e}function m(e,o=w,t=null,s=[]){const n=document.createElement(e);return t&&(n.id=t),s.forEach(i=>n.classList.add(i)),o.appendChild(n),n}const T=document.getElementById("circleCanvas");T.width=window.innerWidth;T.height=window.innerHeight;const Ie=document.getElementById("canvas-container");I();let B=!1;function De(){if(B=!B,!B){document.querySelectorAll(".menu-dropdown").forEach(x=>{x.addEventListener("animationend",y=>{x.remove()}),x.classList.remove("animate"),x.classList.add("reverse")});return}const e=m("div",Ie,null,["menu-dropdown","animate"]),o=m("button",e,"addbutton",["add-node"]),t=m("button",e,"savebutton",["base"]),s=m("div",t,null,["icon"]);s.style.maskImage="url(save.svg)";const n=m("button",e,"loadbutton",["base"]),i=m("div",n,null,["icon"]);i.style.maskImage="url(load.svg)";const u=m("button",e,"deletebutton",["base"]),r=m("div",u,null,["icon"]);r.style.maskImage="url(trash.svg)";const d=m("button",e,"infobutton",["base"]),l=m("div",d,null,["icon"]);l.style.maskImage="url(question-mark.svg)",l.style.maskSize="90%";const c=5,h=40,g=5,p=c*h+(c-1)*g+2*g;e.style.height=`${p}px`,we(o,u,t,n,d)}window.addEventListener("resize",()=>{T.width=window.innerWidth,T.height=window.innerHeight,I()});let qe;document.addEventListener("click",e=>{a.isMouseDown=!1,clearInterval(qe),a.link_mode_on&&!e.target.closest(".node")&&!e.target.closest(".box")&&!a.dragged&&(Le(),I()),document.querySelector(".input-box")&&!(e.target.matches(".add-node, .add-node *")||e.target.matches(".input-box"))&&document.querySelector(".input-box").remove(),document.querySelector(".save-files-menu")&&!(e.target.matches(".save-files-menu, .save-files-menu *")||e.target.matches("#loadbutton, #loadbutton *")||e.target.matches("#savebutton, #savebutton *"))&&document.querySelector(".save-files-menu").remove(),document.querySelector(".confirmation-box")&&!(e.target.matches(".confirmation-box, .confirmation-box *")||e.target.matches(".save-files-menu, .save-files-menu *"))&&document.querySelector(".confirmation-box").remove(),e.target.closest("#box")||(document.querySelectorAll("#box").forEach(t=>t.remove()),a.box_opened=!1,!a.simulating&&!a.link_mode_on&&M()),a.dragged&&(Se(),a.start_coords=[0,0],a.end_coords=[0,0]),document.getElementById("Canvas_Text").innerText!="Welcome"&&!a.link_mode_on&&L(a.current_save_file)});T.addEventListener("mousedown",function(e){e.button===0&&(a.isMouseDown=!0,a.start_coords=[e.clientX,e.clientY],a.end_coords=[e.clientX,e.clientY],a.nodes.forEach(o=>{o.mouseTranslation={x:0,y:0},o.initialTranslation={x:0,y:0}}),a.arrows.forEach(o=>{o.initialTranslation=Te(o)}))});T.addEventListener("mousemove",function(e){const o=T.getBoundingClientRect();if(a.isMouseDown&&!a.box_opened){a.end_coords=[e.clientX-o.left,e.clientY-o.top];const t=a.end_coords[0]-a.start_coords[0],s=a.end_coords[1]-a.start_coords[1];a.nodes.forEach(n=>{n.mouseTranslation={x:t,y:s};const i=n.mouseTranslation.x+n.initialTranslation.x+n.simTranslation.x,u=n.mouseTranslation.y+n.initialTranslation.y+n.simTranslation.y;n.style.transform=`translate(${i}px, ${u}px)`}),j(t,s),I(t,s),a.dragged=!0;return}});window.menu=De;
