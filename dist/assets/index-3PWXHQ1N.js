import{initializeApp as u}from"https://www.gstatic.com/firebasejs/11.3.1/firebase-app.js";import{getAuth as g,onAuthStateChanged as d,signOut as f,GoogleAuthProvider as m,signInWithPopup as p}from"https://www.gstatic.com/firebasejs/11.3.1/firebase-auth.js";import{getFirestore as y,doc as h,setDoc as b}from"https://www.gstatic.com/firebasejs/11.3.1/firebase-firestore.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();const w={apiKey:"AIzaSyC_QBQdq1WeLVaIQH_084N__VQISVz5rbk",authDomain:"task-manager-82b19.firebaseapp.com",projectId:"task-manager-82b19",storageBucket:"task-manager-82b19.firebasestorage.app",messagingSenderId:"114619358141",appId:"1:114619358141:web:d24dfd48a7be49018010d4"},a=u(w),n=g(a),I=y(a);async function v(){const e=new m;try{const s=(await p(n,e)).user;console.log("Google Sign-In Success:",s.displayName)}catch(t){console.error("Google Sign-In Error:",t)}}async function S(){try{await f(n),console.log("User logged out")}catch(e){console.error("Logout Error:",e)}}function L(){const e=document.getElementById("log");n.currentUser?(S(),e.innerText="login"):(v(),e.innerText="logout")}async function l(e,t={}){if(!e){console.log("Please Log in before saving");return}const s=h(I,"users",e.uid),i={firstName:"oacndk",lastName:t.lastName||"Unknown",email:e.email,lastLogin:new Date().toISOString()};await b(s,i,{merge:!0}),console.log("data saved")}function N(){const e=n.currentUser;l(e)}function O(){console.log(n.currentUser)}d(n,e=>{const t=document.getElementById("log");e?(console.log("User is logged in:",e),t.innerText="logout"):(console.log("No user is logged in"),t.innerText="login")});window.saveUserData=l;window.save=N;window.check_user=O;window.login=L;
